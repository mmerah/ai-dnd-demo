1. ai_service.py has a lot of things that could be extracted to an app/agents/ folder for clean separation of context. Right now it is many things + AIService not just AIService.
2. Centralize the event/tools system. We have a central orchestrator with a queue. Tools are mostly the same, they are called by the AI and call a function. But now instead of directly changing the game state, they create an Event (we define events in models/events/ or app/events/ ?). This event is pushed to a central queue. The orchestrator waits on that queue and uses handlers to execute the events. Tool calls are thus sequentially changing the game state in that way. We can also have centralize every thing to goes to the stream of the frontend that way. As such the handlers can create broadcast/stream/chat message (whatever name is best) and the central orchestrator handles them to stream them back.